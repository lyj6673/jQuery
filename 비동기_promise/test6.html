<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
<link rel="stylesheet" href="../css/public.css">
<script>
function getData(){
	const promi = new Promise((resolve, reject) =>{
		setTimeout(()=>{
			const data = {name : "이쁜이"};
			
			if(data){
				console.log("데이터 가져오기 성공....");
				resolve(data);
			}else{
				reject(new Error("데이터 가져오기 실패..."));
			}
		},1000)
	})
	
	return promi;
}

// 콜백 함수안에서 여러가지 기능을 반복적으로 실행
// getData().then(data=>{
// 	console.log(data);
// 	return getData();
// })
// .then( data2 =>{
// 	console.log(data2);
// 	return getData();
// })
// .then((data) =>{
// 	console.log(data.name)
// })
// .catch((error)=>{
// 	console.log(error);
// })
// .finally( ()=>{
// 	console.log("마무리작업");
// })

//then()함수의 콜백함수내의 문장이 한문장이라면 자동 리턴된다.
//간단표현, 깔끔정리
// getData()
// .then((data)=> getData())
// .then((data)=> getData())
// .then((data)=> console.log(data))
// .catch((error) => console.log(error))
// .finally( ()=> console.log("마무리작업"))

// 콜백 함수로 호출
getData((data)=>{
	getData((data)=>{
		getData((data)=>{
			getData((data)=>{
				
			})
		})
	})
})
</script>
</head>
<body>

<div class="box">

<h3></h3>
	<input type="button" value="확인" onclick="proc1()">
	<br><br>
	
	<div id="result1"></div>
</div>
</body>
</html>